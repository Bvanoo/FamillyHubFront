<div class="app">
    <main class="content">
        <header class="header">
            <h1>ğŸ’¬ Messagerie</h1>
        </header>
        <section class="messenger-layout">
            <div class="card chat-window">
                <div class="chat-header">
                    <h2>Conversation #{{currentConversationId}}</h2>
                    <span class="status online">En ligne</span>
                </div>

                <div class="chat-messages">
                    <div *ngFor="let msg of messages()" 
                         [ngClass]="{'message sent': msg.isMe, 'message received': !msg.isMe}">
                        <p>{{ msg.content }}</p>
                        <span>{{ msg.createdAt | date:'HH:mm' }}</span>
                    </div>
                    
                    <div *ngIf="messages.length === 0" style="text-align: center; opacity: 0;">
                        Commencez la discussion...
                    </div>
                </div>

                <div class="chat-input">
                    <input type="text" 
                           [(ngModel)]="newMessageContent" 
                           (keyup.enter)="envoyerMessage()"
                           placeholder="Ã‰crire un message...">
                    <button class="btn-primary" (click)="envoyerMessage()">Envoyer</button>
                </div>
            </div>

            <div class="card contacts-panel">
                <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contacts</h2>
                <div class="contact active">
                    <span class="avatar">E</span>
                    <div class="contact-info">
                        <strong>Emma</strong>
                        <small>En ligne</small>
                    </div>
                </div>
                </div>
        </section>
    </main>
</div>