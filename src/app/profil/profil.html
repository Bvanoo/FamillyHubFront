<div class="app">
  <main class="content">
    <header class="header">
      <h1>Mon Profil</h1>
      <button class="btn-logout" (click)="logout()">Se d√©connecter</button>
    </header>

    <div class="profile-grid">
      
      <aside class="profile-sidebar">
        <div class="card avatar-card">
          <div class="avatar-wrapper" (click)="fileInput.click()" title="Cliquez pour changer la photo">
            
            <img [src]="urlPic()"
                 alt="Avatar" 
                 id="user-avatar">
            
            <div class="avatar-overlay">
              <i class="fas fa-camera"></i>
            </div>
          </div>
          
          <input #fileInput type="file" (change)="onFileSelected($event)" accept="image/*" style="display: none;">

          <h2>{{ userData().name }}</h2>
          <p>Membre FamilyHub</p>
        </div>
      </aside>

      <section class="profile-details">
        <div class="card">
          <h3>Informations personnelles</h3>
          
          <div class="input-group">
            <label>Nom complet</label>
            <input type="text" name="name" [(ngModel)]="formName">
          </div>

          <div class="input-group">
            <label>E-mail</label>
            <input type="email" name="email" [value]="userData().email" readonly class="readonly-input">
          </div>

          <div class="actions">
            <button class="btn-save" (click)="saveChanges()" [disabled]="isSaving">
              {{ isSaving ? 'Sauvegarde...' : 'Enregistrer les modifications' }}
            </button>
          </div>

        </div>
      </section>

    </div>
  </main>
</div>