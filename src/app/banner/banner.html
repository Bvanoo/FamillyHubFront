<button class="burger-btn" (click)="toggleMenu()" aria-label="Menu">
    <i class="fas fa-bars"></i>
</button>

@if (isMenuOpen()) {
    <div class="sidebar-overlay" (click)="closeMenu()"></div>
}

<nav class="sidebar" [class.open]="isMenuOpen()">
    
    <button class="close-btn" (click)="closeMenu()">
        <i class="fas fa-times"></i>
    </button>

    <div class="sidebar-header">
        <img src="FamHubIcon.png" alt="FamillyHub Logo" class="logo">
        <span class="brand-name">FamillyHub</span>
    </div>

    <ul class="nav-links">
        <li [ngClass]="{ 'active': hasRoute('/home') }">
            <a (click)="_nav.goToHome(); closeMenu()"> <i class="fas fa-home"></i> <span>Accueil</span></a>
        </li>
        <li [ngClass]="{ 'active': hasRoute('/calendar') }">
            <a (click)="_nav.goToCalendar(); closeMenu()"><i class="fas fa-calendar-alt"></i> <span>Calendrier</span></a>
        </li>
        <li [ngClass]="{ 'active': hasRoute('/tricount') }">
            <a (click)="_nav.goToGroupes(); closeMenu()"><i class="fas fa-users"></i> <span>Groupes</span></a>
        </li>
    </ul>

    <div class="sidebar-footer">
        <div class="user-profile">
            <img [src]="currentUser?.fullPictureUrl || 'https://ui-avatars.com/api/?name=' + (currentUser?.name || 'User')" 
                 (click)="_nav.goToProfil(); closeMenu()" alt="Profil">
            <div class="user-info">
                <p class="name">{{ currentUser?.name }}</p>
                <p class="status logout-link" (click)="handleLogout()">DÃ©connexion</p>
            </div>
        </div>
    </div>
</nav>